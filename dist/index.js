"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.INIFile=void 0;exports.parseFile=parseFile;var _nodeFs=require("node:fs");class INIFile{constructor(data){this.data=data;}get global(){return this.data;}}exports.INIFile=INIFile;function parseFile(path){const file=(0,_nodeFs.readFileSync)(path,{encoding:'utf-8'});const data={__children:{}};let lastSection=data;for(let line of file.split('\n')){line=line.trimStart().trimEnd();if(line[0]==='#'||line[0]===';'||line==='')continue;if(line.startsWith('[')&&line.endsWith(']')){lastSection=data;for(const sectionName of line.slice(1,-1).split('.')){if(!lastSection.__children[sectionName])lastSection.__children[sectionName]={__children:{}};lastSection=lastSection.__children[sectionName];}}else{let[key,value]=line.split('=');key=key.trimEnd();if(key==='__children')continue;if(value)value=value.trimStart();else value='';lastSection[key]=value;}}return new INIFile(data.__children);}var _default=parseFile;exports.default=_default;